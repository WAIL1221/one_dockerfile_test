{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'ProfEnsat',\n  data() {\n    return {\n      id: 1,\n      nom: \"\",\n      prenom: \"\",\n      spécialité: \"\",\n      indice: -1,\n      profs: []\n    };\n  },\n  mounted() {\n    fetch('http://127.0.0.1:8000/api/Profs').then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => this.profs = data).catch(error => alert(error));\n  },\n  methods: {\n    save: function () {\n      if (this.indice == -1) {\n        // this.etudiants.push({id:this.id++,nom:this.nom,prenom:this.prenom,note:this.note});\n        // Make a POST request using the Fetch API\n        fetch('http://127.0.0.1:8000/api/Profs', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            Nom: this.nom,\n            Prenom: this.prenom,\n            Note: this.spécialité\n          })\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok' + ' , your data was not sent');\n          }\n          return response.json();\n        }).then(data => this.profs.push(data)).catch(error => alert(error));\n        alert(\"Insert\");\n      } else {\n        // this.etudiants[this.indice].nom=this.nom;\n        // this.etudiants[this.indice].prenom=this.prenom;\n        // this.etudiants[this.indice].note=this.note;\n        // Make a PUT request using the Fetch API\n        fetch('http://127.0.0.1:8000/api/Profs/' + this.id, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            Nom: this.nom,\n            Prenom: this.prenom,\n            Note: this.spécialité\n          })\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok' + ' , your data was not sent');\n          }\n          return response.json();\n        }).then(data => this.profs[this.indice] = data).catch(error => alert(error));\n        alert(\"Update\");\n      }\n      this.nom = this.prenom = this.spécialité = \"\";\n    },\n    Retirer: function () {\n      fetch('http://127.0.0.1:8000/api/Profs/' + this.profs[this.profs.length - 1].id, {\n        method: 'DELETE'\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok' + ' , your data was not sent');\n        }\n        return response.json();\n      }).then(data => console.log(data)).catch(error => alert(error));\n      this.profs.pop();\n      alert(\"Field deleted successfully\");\n    },\n    Editer: function (etd) {\n      this.id = etd.id;\n      this.nom = etd.nom;\n      this.prenom = etd.prenom;\n      this.spécialité = etd.note;\n      this.indice = this.profs.indexOf(etd);\n    },\n    Delete: function (prf) {\n      fetch('http://127.0.0.1:8000/api/Profs/' + prf.id, {\n        method: 'DELETE'\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok' + ' , your data was not sent');\n        }\n        return response.json();\n      }).then(data => console.log(data)).catch(error => alert(error));\n      this.profs.splice(this.profs.indexOf(prf), 1);\n      alert(\"Field deleted successfully\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","id","nom","prenom","spécialité","indice","profs","mounted","fetch","then","response","ok","Error","json","catch","error","alert","methods","save","method","headers","body","JSON","stringify","Nom","Prenom","Note","push","Retirer","length","console","log","pop","Editer","etd","note","indexOf","Delete","prf","splice"],"sources":["C:\\app\\Frontend\\src\\components\\Prof.vue"],"sourcesContent":["<script >\r\nexport default {\r\n  name: 'ProfEnsat',\r\n  data(){\r\n    return{\r\n      id:1,\r\n      nom:\"\",\r\n      prenom:\"\",\r\n      spécialité:\"\",\r\n      indice:-1,\r\n      profs:[]\r\n    }\r\n  },\r\n  mounted() {\r\n    fetch('http://127.0.0.1:8000/api/Profs')\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => this.profs=data)\r\n        .catch(error => alert(error));\r\n  },\r\n  methods:{\r\n    save:function (){\r\n      if(this.indice==-1){\r\n        // this.etudiants.push({id:this.id++,nom:this.nom,prenom:this.prenom,note:this.note});\r\n        // Make a POST request using the Fetch API\r\n        fetch('http://127.0.0.1:8000/api/Profs', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(\r\n              {Nom:this.nom,Prenom:this.prenom,Note:this.spécialité}\r\n          ),\r\n        })\r\n            .then(response => {\r\n              if (!response.ok) {\r\n                throw new Error('Network response was not ok' + ' , your data was not sent');\r\n              }\r\n              return response.json();\r\n            })\r\n            .then(data => this.profs.push(data))\r\n            .catch(error => alert(error));\r\n        alert(\"Insert\");\r\n      }\r\n      else{\r\n        // this.etudiants[this.indice].nom=this.nom;\r\n        // this.etudiants[this.indice].prenom=this.prenom;\r\n        // this.etudiants[this.indice].note=this.note;\r\n        // Make a PUT request using the Fetch API\r\n        fetch('http://127.0.0.1:8000/api/Profs/'+ this.id, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(\r\n              {Nom:this.nom,Prenom:this.prenom,Note:this.spécialité}\r\n          ),\r\n        })\r\n            .then(response => {\r\n              if (!response.ok) {\r\n                throw new Error('Network response was not ok' + ' , your data was not sent');\r\n              }\r\n              return response.json();\r\n            })\r\n            .then(data => this.profs[this.indice]=data)\r\n            .catch(error => alert(error));\r\n        alert(\"Update\") ;\r\n      }\r\n      this.nom=this.prenom=this.spécialité=\"\";\r\n    },\r\n    Retirer:function (){\r\n      fetch('http://127.0.0.1:8000/api/Profs/'+ this.profs[this.profs.length-1].id, {\r\n        method: 'DELETE',\r\n      })\r\n          .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error('Network response was not ok' + ' , your data was not sent');\r\n            }\r\n            return response.json();\r\n          })\r\n          .then(data => console.log(data))\r\n          .catch(error => alert(error));\r\n      this.profs.pop();\r\n      alert(\"Field deleted successfully\");\r\n    },\r\n    Editer:function (etd){\r\n      this.id=etd.id;\r\n      this.nom=etd.nom;\r\n      this.prenom=etd.prenom;\r\n      this.spécialité=etd.note;\r\n      this.indice=this.profs.indexOf(etd);\r\n    },\r\n    Delete:function (prf){\r\n\r\n      fetch('http://127.0.0.1:8000/api/Profs/'+ prf.id, {\r\n        method: 'DELETE',\r\n      })\r\n          .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error('Network response was not ok' + ' , your data was not sent');\r\n            }\r\n            return response.json();\r\n          })\r\n          .then(data => console.log(data))\r\n          .catch(error => alert(error));\r\n      this.profs.splice(this.profs.indexOf(prf),1);\r\n      alert(\"Field deleted successfully\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h1>Gestion des étudiants</h1>\r\n    <form v-on:submit.prevent=\"save\">\r\n      <div class=\"form-group\">\r\n        <label for=\"Nom\">Nom</label>\r\n        <input type=\"hidden\" v-model=\"id\">\r\n        <input type=\"text\" id=\"Nom\" v-model=\"nom\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer le nom de l'étudiant\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Prénom\">Prénom</label>\r\n        <input type=\"text\" id=\"Prénom\" v-model=\"prenom\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer le prénom  étudiant\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Note\">Note</label>\r\n        <input type=\"text\" id=\"Note\" v-model=\"spécialité\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer la note de l'étudiant\" required>\r\n      </div>\r\n      <br>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n    </form>\r\n  </div>\r\n  <br><br>\r\n  <table class=\"table table-striped table-dark\">\r\n    <thead>\r\n    <tr>\r\n      <th scope=\"col\">ID</th>\r\n      <th scope=\"col\">Nom</th>\r\n      <th scope=\"col\">Prénom</th>\r\n      <th scope=\"col\">Note</th>\r\n      <th scope=\"col\"><a href=\"\" @click.prevent=\"Retirer\">Retirer</a></th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr v-for=\"P in profs\" :key=\"P\">\r\n      <th scope=\"row\">{{ P.id }}</th>\r\n      <td>{{ P.nom }}</td>\r\n      <td>{{ P.prenom}}</td>\r\n      <td>{{ P.note}}</td>\r\n      <td><button type=\"button\" @click.prevent=\"Editer(P)\" class=\"btn btn-primary\">Edit</button> /\r\n        <button type=\"button\" @click.prevent=\"Delete(P)\" class=\"btn btn-danger\">Delete</button></td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":";AACA,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,EAAE,EAAC,CAAC;MACJC,GAAG,EAAC,EAAE;MACNC,MAAM,EAAC,EAAE;MACTC,UAAU,EAAC,EAAE;MACbC,MAAM,EAAC,CAAC,CAAC;MACTC,KAAK,EAAC;IACR;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRC,KAAK,CAAC,iCAAiC,EAClCC,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAChD;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,EACAJ,IAAI,CAACT,IAAG,IAAK,IAAI,CAACM,KAAK,GAACN,IAAI,EAC5Bc,KAAK,CAACC,KAAI,IAAKC,KAAK,CAACD,KAAK,CAAC,CAAC;EACnC,CAAC;EACDE,OAAO,EAAC;IACNC,IAAI,EAAC,SAAAA,CAAA,EAAW;MACd,IAAG,IAAI,CAACb,MAAM,IAAE,CAAC,CAAC,EAAC;QACjB;QACA;QACAG,KAAK,CAAC,iCAAiC,EAAE;UACvCW,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAChB;YAACC,GAAG,EAAC,IAAI,CAACtB,GAAG;YAACuB,MAAM,EAAC,IAAI,CAACtB,MAAM;YAACuB,IAAI,EAAC,IAAI,CAACtB;UAAU,CACzD;QACF,CAAC,EACIK,IAAI,CAACC,QAAO,IAAK;UAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YAChB,MAAM,IAAIC,KAAK,CAAC,6BAA4B,GAAI,2BAA2B,CAAC;UAC9E;UACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;QACxB,CAAC,EACAJ,IAAI,CAACT,IAAG,IAAK,IAAI,CAACM,KAAK,CAACqB,IAAI,CAAC3B,IAAI,CAAC,EAClCc,KAAK,CAACC,KAAI,IAAKC,KAAK,CAACD,KAAK,CAAC,CAAC;QACjCC,KAAK,CAAC,QAAQ,CAAC;MACjB,OACI;QACF;QACA;QACA;QACA;QACAR,KAAK,CAAC,kCAAkC,GAAE,IAAI,CAACP,EAAE,EAAE;UACjDkB,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAChB;YAACC,GAAG,EAAC,IAAI,CAACtB,GAAG;YAACuB,MAAM,EAAC,IAAI,CAACtB,MAAM;YAACuB,IAAI,EAAC,IAAI,CAACtB;UAAU,CACzD;QACF,CAAC,EACIK,IAAI,CAACC,QAAO,IAAK;UAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YAChB,MAAM,IAAIC,KAAK,CAAC,6BAA4B,GAAI,2BAA2B,CAAC;UAC9E;UACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;QACxB,CAAC,EACAJ,IAAI,CAACT,IAAG,IAAK,IAAI,CAACM,KAAK,CAAC,IAAI,CAACD,MAAM,CAAC,GAACL,IAAI,EACzCc,KAAK,CAACC,KAAI,IAAKC,KAAK,CAACD,KAAK,CAAC,CAAC;QACjCC,KAAK,CAAC,QAAQ;MAChB;MACA,IAAI,CAACd,GAAG,GAAC,IAAI,CAACC,MAAM,GAAC,IAAI,CAACC,UAAU,GAAC,EAAE;IACzC,CAAC;IACDwB,OAAO,EAAC,SAAAA,CAAA,EAAW;MACjBpB,KAAK,CAAC,kCAAkC,GAAE,IAAI,CAACF,KAAK,CAAC,IAAI,CAACA,KAAK,CAACuB,MAAM,GAAC,CAAC,CAAC,CAAC5B,EAAE,EAAE;QAC5EkB,MAAM,EAAE;MACV,CAAC,EACIV,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,6BAA4B,GAAI,2BAA2B,CAAC;QAC9E;QACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;MACxB,CAAC,EACAJ,IAAI,CAACT,IAAG,IAAK8B,OAAO,CAACC,GAAG,CAAC/B,IAAI,CAAC,EAC9Bc,KAAK,CAACC,KAAI,IAAKC,KAAK,CAACD,KAAK,CAAC,CAAC;MACjC,IAAI,CAACT,KAAK,CAAC0B,GAAG,CAAC,CAAC;MAChBhB,KAAK,CAAC,4BAA4B,CAAC;IACrC,CAAC;IACDiB,MAAM,EAAC,SAAAA,CAAUC,GAAG,EAAC;MACnB,IAAI,CAACjC,EAAE,GAACiC,GAAG,CAACjC,EAAE;MACd,IAAI,CAACC,GAAG,GAACgC,GAAG,CAAChC,GAAG;MAChB,IAAI,CAACC,MAAM,GAAC+B,GAAG,CAAC/B,MAAM;MACtB,IAAI,CAACC,UAAU,GAAC8B,GAAG,CAACC,IAAI;MACxB,IAAI,CAAC9B,MAAM,GAAC,IAAI,CAACC,KAAK,CAAC8B,OAAO,CAACF,GAAG,CAAC;IACrC,CAAC;IACDG,MAAM,EAAC,SAAAA,CAAUC,GAAG,EAAC;MAEnB9B,KAAK,CAAC,kCAAkC,GAAE8B,GAAG,CAACrC,EAAE,EAAE;QAChDkB,MAAM,EAAE;MACV,CAAC,EACIV,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,6BAA4B,GAAI,2BAA2B,CAAC;QAC9E;QACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;MACxB,CAAC,EACAJ,IAAI,CAACT,IAAG,IAAK8B,OAAO,CAACC,GAAG,CAAC/B,IAAI,CAAC,EAC9Bc,KAAK,CAACC,KAAI,IAAKC,KAAK,CAACD,KAAK,CAAC,CAAC;MACjC,IAAI,CAACT,KAAK,CAACiC,MAAM,CAAC,IAAI,CAACjC,KAAK,CAAC8B,OAAO,CAACE,GAAG,CAAC,EAAC,CAAC,CAAC;MAC5CtB,KAAK,CAAC,4BAA4B,CAAC;IACrC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}