{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'StudentEnsat',\n  data() {\n    return {\n      id: 1,\n      nom: \"\",\n      prenom: \"\",\n      note: \"\",\n      indice: -1,\n      etudiants: []\n    };\n  },\n  mounted() {\n    fetch('http://127.0.0.1:8000/api/Etudiants').then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => this.etudiants = data).catch(error => alert(error));\n  },\n  methods: {\n    save: function () {\n      if (this.indice == -1) {\n        // this.etudiants.push({id:this.id++,nom:this.nom,prenom:this.prenom,note:this.note});\n        // Make a POST request using the Fetch API\n        fetch('http://127.0.0.1:8000/api/Etudiants', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            Nom: this.nom,\n            Prenom: this.prenom,\n            Note: this.note\n          })\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok' + ' , your data was not sent');\n          }\n          return response.json();\n        }).then(data => this.etudiants.push(data)).catch(error => alert(error));\n        alert(\"Insert\");\n      } else {\n        // this.etudiants[this.indice].nom=this.nom;\n        // this.etudiants[this.indice].prenom=this.prenom;\n        // this.etudiants[this.indice].note=this.note;\n        // Make a PUT request using the Fetch API\n        fetch('http://127.0.0.1:8000/api/Etudiants/' + this.id, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            Nom: this.nom,\n            Prenom: this.prenom,\n            Note: this.note\n          })\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error('Network response was not ok' + ' , your data was not sent');\n          }\n          return response.json();\n        }).then(data => this.etudiants[this.indice] = data).catch(error => alert(error));\n        alert(\"Update\");\n      }\n      this.nom = this.prenom = this.note = \"\";\n    },\n    Retirer: function () {\n      this.etudiants.pop();\n    },\n    Editer: function (etd) {\n      this.id = etd.id;\n      this.nom = etd.nom;\n      this.prenom = etd.prenom;\n      this.note = etd.note;\n      this.indice = this.etudiants.indexOf(etd);\n    },\n    Delete: function (etd) {\n      fetch('http://127.0.0.1:8000/api/Etudiants/' + etd.id, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          Nom: this.nom,\n          Prenom: this.prenom,\n          Note: this.note\n        })\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok' + ' , your data was not sent');\n        }\n        return response.json();\n      }).then(data => console.log(data)).catch(error => alert(error));\n      this.etudiants.splice(this.etudiants.indexOf(etd), 1);\n      alert(\"Field deleted successfully\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","id","nom","prenom","note","indice","etudiants","mounted","fetch","then","response","ok","Error","json","catch","error","alert","methods","save","method","headers","body","JSON","stringify","Nom","Prenom","Note","push","Retirer","pop","Editer","etd","indexOf","Delete","console","log","splice"],"sources":["C:\\app\\Frontend\\src\\components\\Etudiant.vue"],"sourcesContent":["<script >\r\nexport default {\r\n  name: 'StudentEnsat',\r\n  data(){\r\n    return{\r\n      id:1,\r\n      nom:\"\",\r\n      prenom:\"\",\r\n      note:\"\",\r\n      indice:-1,\r\n      etudiants:[]\r\n    }\r\n  },\r\n  mounted() {\r\n    fetch('http://127.0.0.1:8000/api/Etudiants')\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => this.etudiants=data)\r\n        .catch(error => alert(error));\r\n  },\r\n  methods:{\r\n    save:function (){\r\n      if(this.indice==-1){\r\n        // this.etudiants.push({id:this.id++,nom:this.nom,prenom:this.prenom,note:this.note});\r\n        // Make a POST request using the Fetch API\r\n        fetch('http://127.0.0.1:8000/api/Etudiants', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(\r\n              {Nom:this.nom,Prenom:this.prenom,Note:this.note}\r\n          ),\r\n        })\r\n            .then(response => {\r\n              if (!response.ok) {\r\n                throw new Error('Network response was not ok' + ' , your data was not sent');\r\n              }\r\n              return response.json();\r\n            })\r\n            .then(data => this.etudiants.push(data))\r\n            .catch(error => alert(error));\r\n        alert(\"Insert\");\r\n      }\r\n      else{\r\n        // this.etudiants[this.indice].nom=this.nom;\r\n        // this.etudiants[this.indice].prenom=this.prenom;\r\n        // this.etudiants[this.indice].note=this.note;\r\n        // Make a PUT request using the Fetch API\r\n        fetch('http://127.0.0.1:8000/api/Etudiants/'+ this.id, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(\r\n              {Nom:this.nom,Prenom:this.prenom,Note:this.note}\r\n          ),\r\n        })\r\n            .then(response => {\r\n              if (!response.ok) {\r\n                throw new Error('Network response was not ok' + ' , your data was not sent');\r\n              }\r\n              return response.json();\r\n            })\r\n            .then(data => this.etudiants[this.indice]=data)\r\n            .catch(error => alert(error));\r\n        alert(\"Update\") ;\r\n      }\r\n      this.nom=this.prenom=this.note=\"\";\r\n    },\r\n    Retirer:function (){\r\n      this.etudiants.pop();\r\n    },\r\n    Editer:function (etd){\r\n      this.id=etd.id;\r\n      this.nom=etd.nom;\r\n      this.prenom=etd.prenom;\r\n      this.note=etd.note;\r\n      this.indice=this.etudiants.indexOf(etd);\r\n    },\r\n    Delete:function (etd){\r\n\r\n      fetch('http://127.0.0.1:8000/api/Etudiants/'+ etd.id, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(\r\n            {Nom:this.nom,Prenom:this.prenom,Note:this.note}\r\n        ),\r\n      })\r\n          .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error('Network response was not ok' + ' , your data was not sent');\r\n            }\r\n            return response.json();\r\n          })\r\n          .then(data => console.log(data))\r\n          .catch(error => alert(error));\r\n      this.etudiants.splice(this.etudiants.indexOf(etd),1);\r\n      alert(\"Field deleted successfully\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h1>Gestion des étudiants</h1>\r\n    <form v-on:submit.prevent=\"save\">\r\n      <div class=\"form-group\">\r\n        <label for=\"Nom\">Nom</label>\r\n        <input type=\"hidden\" v-model=\"id\">\r\n        <input type=\"text\" id=\"Nom\" v-model=\"nom\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer le nom de l'étudiant\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Prénom\">Prénom</label>\r\n        <input type=\"text\" id=\"Prénom\" v-model=\"prenom\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer le prénom  étudiant\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Note\">Note</label>\r\n        <input type=\"text\" id=\"Note\" v-model=\"note\" class=\"form-control\" aria-describedby=\"emailHelp\" placeholder=\"Entrer la note de l'étudiant\" required>\r\n      </div>\r\n      <br>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n    </form>\r\n  </div>\r\n  <br><br>\r\n  <table class=\"table table-striped table-dark\">\r\n    <thead>\r\n    <tr>\r\n      <th scope=\"col\">ID</th>\r\n      <th scope=\"col\">Nom</th>\r\n      <th scope=\"col\">Prénom</th>\r\n      <th scope=\"col\">Note</th>\r\n      <th scope=\"col\"><a href=\"\" @click.prevent=\"Retirer\">Retirer</a></th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr v-for=\"E in etudiants\" :key=\"E\">\r\n      <th scope=\"row\">{{ E.id }}</th>\r\n      <td>{{ E.nom }}</td>\r\n      <td>{{ E.prenom}}</td>\r\n      <td>{{ E.note}}</td>\r\n      <td><button type=\"button\" @click.prevent=\"Editer(E)\" class=\"btn btn-primary\">Edit</button> /\r\n        <button type=\"button\" @click.prevent=\"Delete(E)\" class=\"btn btn-danger\">Delete</button></td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}